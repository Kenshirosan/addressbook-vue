<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta
            name="viewport"
            content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
        />
        <link
            rel="stylesheet"
            href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/dark.min.css"
        />
        <link rel="stylesheet" href="../css/style.css" />
        <title>Les classes en JavaScript</title>
    </head>
    <body>
        <header>
            <h1>Les classes en JavaScript: heritage par le constructeur</h1>
        </header>
        <div class="container">
            <article>
                <p>
                    Pour faire la meme chose que precedemment, il est possible
                    de passer directement par le constructeur.
                </p>
                <pre><!--
                 --><code class="hljs js"><!--
                     -->class CustomErrorsConstructor extends Error {
<!--                 -->    constructor(message) {
<!--                 -->        super(message);
<!--                 -->        this.message = message;
<!--                 -->    }
<!--                 -->
<!--                 -->}
<!--                 -->
<!--                -->export default CustomErrorsConstructor;
<!--             --></code><!--
             --></pre>
                <pre><!--
                 --><code class="hljs js"><!--
                     -->import CustomErrorsConstructor from './modules/CustomErrorsConstructor.js';
<!--                 -->// Une erreur s'est produite
<!--                 -->const errorMessage = {
<!--                 -->    error: 'unknown',
<!--                 -->    message: 'Same player play again',
<!--                 -->};
<!--                 -->
<!--                 -->// On passe l'erreur directement au niveau de constructeur,
<!--                 -->// La class parente sera instancie avec le message directement.
<!--                 -->const customError = new CustomErrors(errorMessage);
<!--                 -->
<!--                 -->// On accede directement a la propriete message.
<!--                 -->console.log(customError.message);
<!--             --></code><!--
             --></pre>
                <p>
                    On se souvient qu'il y egalement un propriete name a la
                    class native Error:
                    <img src="img/error.png" alt="image d'illustration" />
                    Modifions notre code:
                </p>
                <pre><!--
                 --><code class="hljs js"><!--
                     -->class CustomErrorsConstructor extends Error {
<!--                 -->    constructor(message, name) {
<!--                 -->        // attention le constructeur de la classe Error n'accepte qu'un argument
<!--                 -->        super(`${message} ${name}`);
<!--                 -->        this.message = message;
<!--                 -->        this.name = name;
<!--                 -->    }
<!--                 -->
<!--                 -->}
<!--                 -->
<!--                -->export default CustomErrorsConstructor;
<!--             --></code><!--
             --></pre>
                <p>
                    Jusqu'a maintenant , on lisait un message tres vague et flou
                    dans la console, avec cette modification on peut lire le nom
                    de l'erreur et la valeur du message quand on console.log
                    l'instance de l'erreur.
                </p>
                <pre><!--
                 --><code class="hljs js"><!--
                     -->import CustomErrorsConstructor from './modules/CustomErrorsConstructor.js';
<!--                 -->// Une erreur s'est produite
<!--                 -->const errorMessage = {
<!--                 -->    error: 'unknown',
<!--                 -->    message: 'Same player play again',
<!--                 -->};
<!--                 -->
<!--                 -->// On passe l'erreur directement au niveau de constructeur,
<!--                 -->// La class parente sera instancie avec le message directement.
<!--                 -->const customError = new CustomErrorsConstructor(
<!--                 -->    errorMessage.message,
<!--                 -->    errorMessage.error
<!--                 -->);
<!--                 -->
<!--                 -->
<!--                 -->
<!--                 -->console.log(customError.name); // Form Error
<!--                 -->console.log(customError.message); // Same player play again
<!--                 -->console.log('\u{1f609}'); // un emoji pour se detendre
<!--                 -->console.log(typeof customError); // object
<!--                 -->console.log(customError instanceof Error); // true
<!--                 -->// L'instance de notre classe:
<!--                 -->console.log(customError); // Form Error: Same player play again
<!--             --></code><!--
             --></pre>
                <p><code>f12</code></p>
            </article>
        </div>
        <div class="footer">
            <footer>
                <a href="https://3wa.fr">3WAcademy</a>
            </footer>
        </div>
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js"></script>
        <script>
            hljs.initHighlightingOnLoad();
        </script>
        <script type="module" src="js/contructor.js"></script>
    </body>
</html>
