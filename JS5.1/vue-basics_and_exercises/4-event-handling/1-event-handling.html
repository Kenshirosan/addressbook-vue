<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta http-equiv="X-UA-Compatible" content="ie=edge" />
        <link rel="stylesheet" href="../css/style.css" />
        <link
            rel="icon"
            type="image/png"
            sizes="96x96"
            href="../img/icon/logo.png"
        />
        <title>Vue Event Handling</title>
    </head>
    <body>
        <div id="app">
            <header-template></header-template>

            <div class="container">
                <h1>
                    Event Handling: v-on:click/@click, v-on:submit/@submit,
                    modifier: .prevent
                </h1>
                <div class="form-group">
                    <!-- l'event submit avec le modifier prevent ( e.preventDefault() ) -->
                    <!-- Execute un fonction quand on 'submit' -->
                    <!-- Remplir le formulaire, cliquer sur submit et admirer le resultat dans la console -->
                    <!--  J'ecris @submit mais on peut aussi l'écrire v-on:submit -->
                    <form action="" @submit.prevent="createContact">
                        <label for="name">Name</label>
                        <input type="text" v-model="name" id="name" />

                        <label for="email">Email</label>
                        <input type="email" v-model="email" id="email" />

                        <label for="phone">Phone</label>
                        <input type="tel" v-model="phone" id="phone" />
                        <button type="submit">Submit</button>
                    </form>
                </div>

                <!-- Exécute un fonction on 'click' @click ou v-on:click       -->
                <button @click="doSomething">Cliquer</button>
                <!-- Avec le modifier .prevent     -->
                <a href="test.php" v-on:click.prevent="interceptEvent">Lien</a>
            </div>
            <footer-template></footer-template>
        </div>

        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>

        <script type="module">
            import HeaderTemplate from '../components/header.js';
            import FooterTemplate from '../components/footer.js';

            let data = {
                message: 'Hello World',
                name: '',
                email: '',
                phone: '',
            };

            new Vue({
                el: '#app',
                components: { HeaderTemplate, FooterTemplate },
                // On pourrait utiliser le shorthand pour l'objet data...
                data: data,
                // L'objet methods permet d'écrire des fonctions
                // Ces fonctions sont locales dans le contexte d'un 'component'
                methods: {
                    createContact() {
                        const contact = {
                            name: this.name,
                            email: this.email,
                            phone: this.phone,
                        };

                        console.log(contact);
                    },

                    doSomething() {
                        console.log('bouton clique');
                    },

                    interceptEvent() {
                        console.log('clique a href');
                    },
                },
            });
        </script>
    </body>
</html>
